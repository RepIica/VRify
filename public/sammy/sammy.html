<canvas class="a-canvas" data-aframe-canvas="true" width="2185" height="1130"></canvas><a-entity camera="" wasd-controls="" fps-look-controls="" position="" capture-mouse="true" raycaster="" rotation="" scale="" visible=""><a-entity raycaster="" cursor="" position="" geometry="" material="" static-body="shape: sphere; sphereRadius: 0.001" super-hands="" rotation="" scale="" visible=""></a-entity></a-entity><a-assets><a-mixin id="editable" hoverable="true" grabbable="true" stretchable="true" draggable="true" droppable="true" shadow="true" event-set__hoveron="_event: hover-start; material.opacity: 0.7; transparent: true" event-set__hoveroff="_event: hover-end; material.opacity: 1; transparent: false" event-set__dragon="_event: dragover-start; material.wireframe: true" event-set__dragoff="_event: dragover-end; material.wireframe: false"></a-mixin><img id="start-bg" src="/static/media/sidewalk.9f5519cc.jpg" alt="start-bg"><img id="detail-bg" src="/static/media/street.388b700c.jpg" alt="detail-bg"><img id="left-tile-image" src="/static/media/slopes.41ae2dd2.jpg" alt="left-tile"><img id="center-tile-image" src="/static/media/church.d4c1be66.jpg" alt="center-tile"><img id="right-tile-image" src="/static/media/landscape.e345c975.jpg" alt="right-tile"><a-mixin id="overlay-fade-in" animation="property: opacity; dir: normal; dur: 500; easing: easeOutQuad; loop: false; from:0; to: .75; startEvents: clickDown;"></a-mixin></a-assets><a-sky color="#ECECEC" material="" position="" rotation="" scale="" visible="" geometry=""></a-sky><a-sphere id="main-bg" radius="100" geometry="" position="" rotation="" src="#start-bg" material="" color="#333333" scale="" visible=""></a-sphere><a-plane id="center-tile" class="clickable" position="" width="4" geometry="" height="3" opacity="0" material="" animation="" rotation="" scale="" visible=""><a-image id="center-tile-image" classname="tile" position="" src="#detail-bg" material="" width="4" geometry="" height="3" opacity="1" animation="" rotation="" scale="" visible=""></a-image><a-plane id="center-tile-overlay" width="4" geometry="" height="3" position="" color="#000" material="" opacity="0" mixin="overlay-fade-in" rotation="" scale="" visible="" animation=""></a-plane><a-text id="center-tile-text" position="" align="center" text="" line-height="64" opacity="0" value="Kumamoto City\nJapan" mixin="overlay-fade-in" rotation="" scale="" visible="" animation=""></a-text><a-plane id="center-tile-cta" width="2" geometry="" height=".5" position="" color="#000" material="" opacity="0" mixin="overlay-fade-in" rotation="" scale="" visible="" animation=""><a-text id="center-tile-cta-text" position="" align="center" text="" line-height="64" opacity="0" value="View" mixin="overlay-fade-in" rotation="" scale="" visible="" animation=""></a-text></a-plane></a-plane><div class="a-enter-vr embedded" aframe-injected=""><button class="a-enter-vr-button" title="Enter VR mode with a headset or fullscreen mode on a desktop. Visit https://webvr.rocks or https://webvr.info for more information." aframe-injected=""></button></div><div class="a-orientation-modal a-hidden" aframe-injected=""><button aframe-injected="">Exit VR</button></div><a-entity light="" data-aframe-default-light="" aframe-injected="" position="" rotation="" scale="" visible=""></a-entity><a-entity light="" position="" data-aframe-default-light="" aframe-injected="" rotation="" scale="" visible=""></a-entity><a-box position="" color="#888888" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry="" transparent="false"></a-box><a-plane position="" color="#474747" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-text position="" color="#555555" text="" mixin="editable" class="clickable" value="import React from 'react'; import street from '../img/street.jpg' import church from '../img/church.jpg' import slopes from '../img/slopes.jpg' import sidewalk from '../img/sidewalk.jpg' import landscape from '../img/landscape.jpg' import SidebarItems from './SidebarItems.js' import { randInt,randInv,textValidator,randBrightColor,randGrayColor } from '../calculations.js' import { Button } from 'semantic-ui-react' import { Menu, Segment, Sidebar } from 'semantic-ui-react' class Ui extends React.Component { state = { visible: false } handleButtonClick = () => this.setState({ visible: !this.state.visible }) handleSidebarHide = () => this.setState({ visible: false }) addPrimitive = (primitive) => { const sceneEl = document.querySelector('a-scene'); const entityEl = document.createElement(`a-${primitive}`); const z = randInv(-7, -2, 0.2) const y = randInv(0, 3, 0.2) const x = randInv(-3, 3, 0.2) console.log(x,y,z) sceneEl.appendChild(entityEl); entityEl.setAttribute('position', {x, y, z}); entityEl.setAttribute('color', randGrayColor()); entityEl.setAttribute('mixin', 'editable'); entityEl.classList.add('clickable') // entityEl.object3D.position.set(x, y, z); console.log(`${primitive} added`); } addText = () => { const text = textValidator(prompt('Enter Text:')) if (text) { this.addPrimitive('text') //refactor to not use this method, possible async issue const allTexts = document.querySelectorAll('a-text') allTexts[allTexts.length-1].setAttribute('value', text) } } addText2 = () => { const text = textValidator(prompt('Enter Text:')) if (text) { this.addPrimitive('text') //refactor to not use this method, possible async issue const allTexts = document.querySelectorAll('a-text') allTexts[allTexts.length-1].setAttribute('value', text) allTexts[allTexts.length-1].setAttribute('geometry',&quot;primitive:plane&quot;) } } removeAllUserAdded = () => { const sceneEl = document.querySelector('a-scene'); sceneEl.querySelectorAll('.clickable').forEach((el)=>{el.parentNode.removeChild(el)}) } render() { const { visible } = this.state return( <Sidebar.Pushable as={Segment}> <Sidebar as={Menu} animation='overlay' icon='labeled' inverted onHide={this.handleSidebarHide} vertical visible={visible} width='thin' > <SidebarItems addPrimitive={this.addPrimitive} removeAllUserAdded={this.removeAllUserAdded} addText={this.addText} addText2={this.addText2} ></SidebarItems> </Sidebar> <Sidebar.Pusher> <Segment basic> <div id=&quot;embedded-scene&quot; className=&quot;row&quot;> <Button onClick={this.handleButtonClick}> <span className=&quot;icon-bar&quot;></span> <span className=&quot;icon-bar&quot;></span> <span className=&quot;icon-bar&quot;></span> </Button> <a-scene embedded> {/* <a-entity id=&quot;main-camera&quot; camera fps-look-controls wasd-controls super-hands hand-controls=&quot;right&quot;> {/*raycaster to enable click detection} <a-entity cursor=&quot;rayOrigin: mouse;&quot; raycaster=&quot;objects: .clickable&quot; position=&quot;0 0 -1&quot; geometry=&quot;primitive: ring; radiusInner: 0.015; radiusOuter: 0.025&quot; material=&quot;color: rgb(255, 255, 255); shader: flat; opacity: 0.5; transparent: true&quot;></a-entity> </a-entity> */} <a-entity camera wasd-controls fps-look-controls position=&quot;0 0 1&quot; capture-mouse raycaster=&quot;objects: .clickable&quot;> <a-entity cursor=&quot;rayOrigin: mouse;&quot; position=&quot;0 0 -1&quot; geometry=&quot;primitive: ring; radiusInner: 0.015; radiusOuter: 0.025&quot; material=&quot;color: rgb(255, 255, 255); shader: flat; opacity: 0.5; transparent: true&quot; raycaster=&quot;objects: .clickable&quot; // 2nd object class? static-body=&quot;shape: sphere; sphereRadius: 0.001&quot; super-hands=&quot;colliderEvent: raycaster-intersection; colliderEventProperty: els; colliderEndEvent:raycaster-intersection-cleared; colliderEndEventProperty: clearedEls;&quot;></a-entity> </a-entity> <a-assets> <a-mixin id=&quot;editable&quot; hoverable grabbable stretchable draggable droppable shadow event-set__hoveron=&quot;_event: hover-start; material.opacity: 0.7; transparent: true&quot; event-set__hoveroff=&quot;_event: hover-end; material.opacity: 1; transparent: false&quot; event-set__dragon=&quot;_event: dragover-start; material.wireframe: true&quot; event-set__dragoff=&quot;_event: dragover-end; material.wireframe: false&quot;> </a-mixin> <img id=&quot;start-bg&quot; src={sidewalk} alt=&quot;start-bg&quot; /> <img id=&quot;detail-bg&quot; src={street} alt=&quot;detail-bg&quot; /> <img id=&quot;left-tile-image&quot; src={slopes} alt=&quot;left-tile&quot; /> <img id=&quot;center-tile-image&quot; src={church} alt=&quot;center-tile&quot; /> <img id=&quot;right-tile-image&quot; src={landscape} alt=&quot;right-tile&quot; /> <a-mixin id=&quot;overlay-fade-in&quot; animation=&quot;property: opacity; dir: normal; dur: 500; easing: easeOutQuad; loop: false; from:0; to: .75; startEvents: clickDown;&quot;></a-mixin> </a-assets> <a-sky color=&quot;#ECECEC&quot;></a-sky> <a-sphere id=&quot;main-bg&quot; radius=&quot;100&quot; position=&quot;0 0 0&quot; rotation=&quot;0 90 0&quot; src=&quot;#start-bg&quot; color=&quot;#333333&quot; material=&quot;side: double;&quot;></a-sphere> {/* <a-image id=&quot;left-tile-image&quot; className=&quot;tile&quot; position=&quot;-4.5 1 -8&quot; src=&quot;#left-tile-image&quot; width=&quot;4&quot; height=&quot;3&quot; opacity=&quot;0&quot; animation=&quot;property: opacity; dir: normal; dur: 1500; easing: easeInOutQuad; loop: false; from:0; to: 1; delay: 1000;&quot;></a-image> */} <a-plane id=&quot;center-tile&quot; class=&quot;clickable&quot; position=&quot;0 1 -8&quot; width=&quot;4&quot; height=&quot;3&quot; opacity=&quot;0&quot; animation=&quot;property: scale; dir: normal; dur: 500; easing: easeOutQuad; loop: false; from: 1 1 1; to: 1.5 1.5 1.5; startEvents: click;&quot;> <a-image id=&quot;center-tile-image&quot; className=&quot;tile&quot; position=&quot;0 0 0 &quot; src=&quot;#detail-bg&quot; width=&quot;4&quot; height=&quot;3&quot; opacity=&quot;0&quot; animation=&quot;property: opacity; dir: normal; dur: 1500; easing: easeInOutQuad; loop: false; from:0; to: 1; delay: 1250;&quot;> </a-image> <a-plane id=&quot;center-tile-overlay&quot; width=&quot;4&quot; height=&quot;3&quot; position=&quot;0 0 0.01&quot; color=&quot;#000&quot; opacity=&quot;0&quot; mixin=&quot;overlay-fade-in&quot;></a-plane> <a-text id=&quot;center-tile-text&quot; position=&quot;0 .25 .02&quot; align=&quot;center&quot; line-height=&quot;64&quot; opacity=&quot;0&quot; value=&quot;Kumamoto City\nJapan&quot; mixin=&quot;overlay-fade-in&quot;></a-text> <a-plane id=&quot;center-tile-cta&quot; width=&quot;2&quot; height=&quot;.5&quot; position=&quot;0 -.75 .01&quot; color=&quot;#000&quot; opacity=&quot;0&quot; mixin=&quot;overlay-fade-in&quot;> <a-text id=&quot;center-tile-cta-text&quot; position=&quot;0 0 .02&quot; align=&quot;center&quot; line-height=&quot;64&quot; opacity=&quot;0&quot; value=&quot;View&quot; mixin=&quot;overlay-fade-in&quot;> </a-text> </a-plane> </a-plane> {/* <a-image id=&quot;right-tile-image&quot; className=&quot;tile&quot; position=&quot;4.5 1 -8&quot; src=&quot;#right-tile-image&quot; width=&quot;4&quot; height=&quot;3&quot; opacity=&quot;0&quot; animation=&quot;property: opacity; dir: normal; dur: 1500; easing: easeInOutQuad; loop: false; from:0; to: 1; delay: 1500;&quot;></a-image> */} {/* <a-text value=&quot;Now Interactable&quot; geometry=&quot;primitive:plane&quot; position=&quot;4.5 1 -8&quot;></a-text> */} {/* <a-entity class=&quot;clickable&quot; geometry=&quot;primitive: box; width: 0.5; height: 0.5; depth: 0.5&quot; mixin=&quot;editable&quot; position=&quot;0 1 -1.25&quot; material=&quot;color: red&quot;></a-entity> */} </a-scene> </div> </Segment> </Sidebar.Pusher> </Sidebar.Pushable> ) } } export default Ui" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" material="" transparent="false"></a-text><a-plane position="" color="#747474" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-plane position="" color="#5d5d5d" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-plane position="" color="#717171" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-plane position="" color="#8f8f8f" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-plane position="" color="#a471ae" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-plane position="" color="#ad7a89" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-plane position="" color="#8565ac" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-plane position="" color="#626262" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-plane position="" color="#646464" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-plane position="" color="#424242" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-plane position="" color="#9f8ec2" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-plane position="" color="#9e9e9e" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-plane position="" color="#636363" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-plane position="" color="#ae6e94" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-plane><a-torus-knot position="" color="#6e6e6e" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry="" transparent="true"></a-torus-knot><a-box position="" color="#676767" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-box><a-sphere position="" color="#7a7a7a" material="" mixin="editable" class="clickable" rotation="" scale="" visible="" hoverable="" grabbable="" stretchable="" draggable="" droppable="" shadow="" event-set__hoveron="" event-set__hoveroff="" event-set__dragon="" event-set__dragoff="" geometry=""></a-sphere>